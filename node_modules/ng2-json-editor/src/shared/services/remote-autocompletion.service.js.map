{"version":3,"sources":["../../../../staging/src/shared/services/remote-autocompletion.service.ts"],"names":[],"mappings":"AAAA;;;;;;;;;;;;;;;;;;;;EAoBE;AAEF,OAAO,EAAE,UAAA,EAAW,MAAO,eAAA,CAAgB;AAC3C,OAAO,EAAE,IAAA,EAAe,MAAO,eAAA,CAAgB;AAI/C,OAAO,EAAE,eAAA,EAAgB,MAAO,qBAAA,CAAsB;AAGtD;IAEE,qCAAoB,IAAU,EACpB,eAAgC;QADtB,SAAI,GAAJ,IAAI,CAAM;QACpB,oBAAe,GAAf,eAAe,CAAiB;IAAI,CAAC;IAE/C,8DAAwB,GAAxB,UAAyB,OAA6B,EACpD,KAAa;QADf,iBAIC;QAFC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,KAAG,OAAO,CAAC,GAAG,GAAG,KAAO,CAAC;aAC3C,GAAG,CAAC,UAAA,GAAG,IAAI,OAAA,KAAI,CAAC,oBAAoB,CAAC,GAAG,EAAE,OAAO,CAAC,IAAI,CAAC,EAA5C,CAA4C,CAAC,CAAC;IAC9D,CAAC;IAEO,0DAAoB,GAA5B,UAA6B,QAAkB,EAAE,WAAmB;QAClE,IAAM,YAAY,GAAG,IAAI,CAAC,eAAe,CAAC,WAAW,CAAC,WAAW,CAAC,CAAC;QACnE,IAAI,OAAO,GAAG,QAAQ,CAAC,IAAI,EAAE,CAAC;QAC9B,YAAY,CAAC,OAAO,CAAC,UAAA,WAAW;YAC9B,OAAO,GAAG,OAAO,CAAC,WAAW,CAAC,CAAC;QACjC,CAAC,CAAC,CAAC;QACH,MAAM,CAAC,OAAO,CAAC;IACjB,CAAC;IASH,kCAAC;AAAD,CA3BA,AA2BC;;AARM,sCAAU,GAA0B;IAC3C,EAAE,IAAI,EAAE,UAAU,EAAE;CACnB,CAAC;AACF,kBAAkB;AACX,0CAAc,GAAmE,cAAM,OAAA;IAC9F,EAAC,IAAI,EAAE,IAAI,GAAG;IACd,EAAC,IAAI,EAAE,eAAe,GAAG;CACxB,EAH6F,CAG7F,CAAC","file":"remote-autocompletion.service.js","sourceRoot":"","sourcesContent":["/*\n * This file is part of ng2-json-editor.\n * Copyright (C) 2016 CERN.\n *\n * ng2-json-editor is free software; you can redistribute it and/or\n * modify it under the terms of the GNU General Public License as\n * published by the Free Software Foundation; either version 2 of the\n * License, or (at your option) any later version.\n *\n * ng2-json-editor is distributed in the hope that it will be useful, but\n * WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with ng2-json-editor; if not, write to the Free Software Foundation, Inc.,\n * 59 Temple Place, Suite 330, Boston, MA 02111-1307, USA.\n * In applying this license, CERN does not\n * waive the privileges and immunities granted to it by virtue of its status\n * as an Intergovernmental Organization or submit itself to any jurisdiction.\n*/\n\nimport { Injectable } from '@angular/core';\nimport { Http, Response } from '@angular/http';\nimport { Observable } from 'rxjs/Observable';\n\nimport { AutocompletionConfig } from '../interfaces';\nimport { PathUtilService } from './path-util.service';\n\n\nexport class RemoteAutocompletionService {\n\n  constructor(private http: Http,\n    private pathUtilService: PathUtilService) { }\n\n  getAutocompletionResults(options: AutocompletionConfig,\n    token: string): Observable<Array<object>> {\n    return this.http.get(`${options.url}${token}`)\n      .map(res => this.mapResponseToResults(res, options.path));\n  }\n\n  private mapResponseToResults(response: Response, resultsPath: string): Array<object> {\n    const pathElements = this.pathUtilService.toPathArray(resultsPath);\n    let results = response.json();\n    pathElements.forEach(pathElement => {\n      results = results[pathElement];\n    });\n    return results;\n  }\nstatic decorators: DecoratorInvocation[] = [\n{ type: Injectable },\n];\n/** @nocollapse */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n{type: Http, },\n{type: PathUtilService, },\n];\n}\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n"]}