{"version":3,"sources":["../../../../staging/src/shared/services/json-schema.service.ts"],"names":[],"mappings":"AAAA;;;;;;;;;;;;;;;;;;;;GAoBG;AAEH,OAAO,EAAE,UAAA,EAAW,MAAO,eAAA,CAAgB;AAG3C,OAAO,EAAE,eAAA,EAAgB,MAAO,qBAAA,CAAsB;AAGtD;IAIE,2BAAoB,eAAgC;QAAhC,oBAAe,GAAf,eAAe,CAAiB;IAAI,CAAC;IAEzD,qCAAS,GAAT,UAAU,MAAkB;QAC1B,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;IACvB,CAAC;IAED;;OAEG;IACH,wCAAY,GAAZ,UAAa,IAAgB;QAC3B,MAAM,CAAC,IAAI;aACR,MAAM,CAAa,UAAC,MAAM,EAAE,MAAM;YACjC,EAAE,CAAC,CAAC,KAAK,CAAC,MAAM,CAAC,IAAI,MAAM,KAAK,GAAG,CAAC,CAAC,CAAC;gBACpC,MAAM,CAAC,MAAM,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC;YACnC,CAAC;YAAC,IAAI,CAAC,CAAC;gBACN,MAAM,CAAC,MAAM,CAAC,KAAK,CAAC;YACtB,CAAC;QACH,CAAC,EAAE,IAAI,CAAC,MAAM,CAAC,CAAC;IACpB,CAAC;IAED;;OAEG;IACH,yCAAa,GAAb,UAAc,IAAY;QACxB,IAAM,SAAS,GAAG,IAAI,CAAC,eAAe,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC;QACzD,MAAM,CAAC,IAAI,CAAC,YAAY,CAAC,SAAS,CAAC,CAAC;IACtC,CAAC;IASH,wBAAC;AAAD,CAvCA,AAuCC;;AAPM,4BAAU,GAA0B;IAC3C,EAAE,IAAI,EAAE,UAAU,EAAE;CACnB,CAAC;AACF,kBAAkB;AACX,gCAAc,GAAmE,cAAM,OAAA;IAC9F,EAAC,IAAI,EAAE,eAAe,GAAG;CACxB,EAF6F,CAE7F,CAAC","file":"json-schema.service.js","sourceRoot":"","sourcesContent":["/*\n * This file is part of ng2-json-editor.\n * Copyright (C) 2016 CERN.\n *\n * ng2-json-editor is free software; you can redistribute it and/or\n * modify it under the terms of the GNU General Public License as\n * published by the Free Software Foundation; either version 2 of the\n * License, or (at your option) any later version.\n *\n * ng2-json-editor is distributed in the hope that it will be useful, but\n * WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with ng2-json-editor; if not, write to the Free Software Foundation, Inc.,\n * 59 Temple Place, Suite 330, Boston, MA 02111-1307, USA.\n * In applying this license, CERN does not\n * waive the privileges and immunities granted to it by virtue of its status\n * as an Intergovernmental Organization or submit itself to any jurisdiction.\n */\n\nimport { Injectable } from '@angular/core';\n\nimport { JSONSchema } from '../interfaces';\nimport { PathUtilService } from './path-util.service';\n\n\nexport class JsonSchemaService {\n\n  private schema: JSONSchema;\n\n  constructor(private pathUtilService: PathUtilService) { }\n\n  setSchema(schema: JSONSchema) {\n    this.schema = schema;\n  }\n\n  /**\n   * Returns the schema extracted from this path\n   */\n  forPathArray(path: Array<any>): JSONSchema {\n    return path\n      .reduce<JSONSchema>((schema, pathEl) => {\n        if (isNaN(pathEl) && pathEl !== '-') {\n          return schema.properties[pathEl];\n        } else {\n          return schema.items;\n        }\n      }, this.schema);\n  }\n\n  /**\n   * Returns the schema extracted from the json-pointer string\n   */\n  forPathString(path: string): JSONSchema {\n    const pathArray = this.pathUtilService.toPathArray(path);\n    return this.forPathArray(pathArray);\n  }\n\nstatic decorators: DecoratorInvocation[] = [\n{ type: Injectable },\n];\n/** @nocollapse */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n{type: PathUtilService, },\n];\n}\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n"]}