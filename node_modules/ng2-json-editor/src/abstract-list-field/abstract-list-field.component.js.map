{"version":3,"sources":["../../../staging/src/abstract-list-field/abstract-list-field.component.ts"],"names":[],"mappings":";;;;;;;;;;AAwBA,OAAO,EAAE,sBAAsB,EAAE,MAAM,mBAAmB,CAAC;AAI3D;;;;;GAKG;AACH;IAAyD,8CAAsB;IAM7E,oCAAmB,iBAAoC,EAC9C,eAAgC,EAChC,gBAAkC,EAClC,eAAgC,EAChC,iBAAoC;QAJ7C,YAKE,kBAAM,iBAAiB,EAAE,eAAe,EAAE,eAAe,EAAE,iBAAiB,EAAE,gBAAgB,CAAC,SAChG;QANkB,uBAAiB,GAAjB,iBAAiB,CAAmB;QAC9C,qBAAe,GAAf,eAAe,CAAiB;QAChC,sBAAgB,GAAhB,gBAAgB,CAAkB;QAClC,qBAAe,GAAf,eAAe,CAAiB;QAChC,uBAAiB,GAAjB,iBAAiB,CAAmB;;IAE7C,CAAC;IAED;;;OAGG;IACH,gDAAW,GAAX,UAAY,KAAa,EAAE,SAAiB;QAC1C,IAAI,CAAC,gBAAgB,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,EAAE,KAAK,EAAE,SAAS,CAAC,CAAC;IAC5D,CAAC;IAED;;OAEG;IACH,kDAAa,GAAb,UAAc,KAAa;QACzB,IAAM,WAAW,GAAG,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;QAC5C,IAAI,CAAC,gBAAgB,CAAC,QAAQ,CAAC,WAAW,CAAC,CAAC;QAC5C,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,gBAAgB,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;IACvD,CAAC;IAED,0DAAqB,GAArB,UAAsB,KAAa;QACjC,MAAM,CAAC,KAAG,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,eAAe,CAAC,SAAS,GAAG,KAAO,CAAC;IACvE,CAAC;IAED,gEAA2B,GAA3B;QACE,MAAM,CAAC,IAAI,CAAC,gBAAgB,CAAC,2BAA2B,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;IAC5E,CAAC;IACH,iCAAC;AAAD,CAtCA,AAsCC,CAtCwD,sBAAsB,GAsC9E","file":"abstract-list-field.component.js","sourceRoot":"","sourcesContent":["/*\n * This file is part of ng2-json-editor.\n * Copyright (C) 2016 CERN.\n *\n * ng2-json-editor is free software; you can redistribute it and/or\n * modify it under the terms of the GNU General Public License as\n * published by the Free Software Foundation; either version 2 of the\n * License, or (at your option) any later version.\n *\n * ng2-json-editor is distributed in the hope that it will be useful, but\n * WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with ng2-json-editor; if not, write to the Free Software Foundation, Inc.,\n * 59 Temple Place, Suite 330, Boston, MA 02111-1307, USA.\n * In applying this license, CERN does not\n * waive the privileges and immunities granted to it by virtue of its status\n * as an Intergovernmental Organization or submit itself to any jurisdiction.\n*/\nimport { ChangeDetectorRef } from '@angular/core';\nimport { List } from 'immutable';\n\nimport { AbstractFieldComponent } from '../abstract-field';\nimport { JsonStoreService, AppGlobalsService, PathUtilService, ProblemsService } from '../shared/services';\nimport { JSONSchema, JsonPatch } from '../shared/interfaces';\n\n/**\n * Abstract component to share code of common operations of all array fields\n *\n * Instance properties declared here only to resolve syntax errors.\n * Hence they need to be declared in children extending components (with decarators if necessary)\n */\nexport abstract class AbstractListFieldComponent extends AbstractFieldComponent {\n\n  values: List<any>;\n  schema: JSONSchema;\n  path: Array<any>;\n\n  constructor(public appGlobalsService: AppGlobalsService,\n    public problemsService: ProblemsService,\n    public jsonStoreService: JsonStoreService,\n    public pathUtilService: PathUtilService,\n    public changeDetectorRef: ChangeDetectorRef) {\n    super(appGlobalsService, problemsService, pathUtilService, changeDetectorRef, jsonStoreService);\n  }\n\n  /**\n   * @param index - Index of the element that is moved\n   * @param  direction - Movement direction. -1 for UP, +1 for DOWN\n   */\n  moveElement(index: number, direction: number) {\n    this.jsonStoreService.moveIn(this.path, index, direction);\n  }\n\n  /**\n   * @param index - Index of the element to be deleted\n   */\n  deleteElement(index: number) {\n    const elementPath = this.path.concat(index);\n    this.jsonStoreService.removeIn(elementPath);\n    this.values = this.jsonStoreService.getIn(this.path);\n  }\n\n  getPathStringForChild(index: number): string {\n    return `${this.pathString}${this.pathUtilService.separator}${index}`;\n  }\n\n  hasPatchOrChildrenHavePatch(): boolean {\n    return this.jsonStoreService.hasPatchOrChildrenHavePatch(this.pathString);\n  }\n}\n"]}